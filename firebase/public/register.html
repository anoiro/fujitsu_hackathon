<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>新規登録ページ</title>
    <script defer src="/__/firebase/7.14.2/firebase-app.js"></script>
    <script defer src="/__/firebase/7.14.2/firebase-firestore.js"></script>    
    <script defer src="/__/firebase/init.js"></script>
  </head>

 <body>
  <h1>ユーザー登録</h1>
  <div>以下の内容を入力してください。</div><br/>
    お名前：<br/>
    <input type="text" id="name" required/><br/><br/>
    メールアドレス：<br/>
    <input type="text" id="e-mail" required/><br/><br/>
    パスワード：<br/>
    <input type="text" id="pass" required/><br/><br/>

    <button id="sendtext-btn">送信</button><br/><br/>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    // wite
    var db = firebase.firestore();
    document.getElementById("sendtext-btn").onclick = function() {
      db.collection("datas").doc("text").set(
        {"vtext":document.getElementById("name").value}).then(function() {
            console.log("Name successfully written!");
        });
        db.collection("datas").doc("text").set(
         {"vtext":document.getElementById("e-mail").value}).then(function() {
            console.log("E-mail successfully written!");
        });
        db.collection("datas").doc("text").set(
         {"vtext":document.getElementById("pass").value}).then(function() {
            console.log("Password successfully written!");
        });
    };
      // read
      db.collection("datas").doc("text").get().then(function(doc) {
        document.getElementById("name").value=doc.data().vtext
      });
      db.collection("datas").doc("text").get().then(function(doc) {
        document.getElementById("e-mail").value=doc.data().vtext
      });
      db.collection("datas").doc("text").get().then(function(doc) {
        document.getElementById("pass").value=doc.data().vtext
      });
    });
  </script>
 </body>
</html>

